# Liturgical Calendar
A PHP script that will generate the liturgical calendar for any given year, based on the General Roman Calendar, calculating the mobile festivities and the precedence of solemnities, feasts, memorials... This script serves as a data endpoint, which will generate the data for the General Roman Calendar in a data exchange format, such as JSON, XML, or ICS. An example of the endpoint can be found at [https://johnromanodorazio.com/LiturgicalCalendar/], following the first link *data generation endpoint here*.

Some characteristics of this endpoint:
* The data is based on official sources, not copied from random internet sources. Sources used are the various editions of the **Roman Missal** in Latin, English, and Italian, **Magisterial documents**, and the **Decrees of the Congregation for Divine Worship**
    - Missale Romanum, Editio typica, 1970
    - Missale Romanum, Reimpressio emendata, 1971
    - Missale Romanum, Editio typica secunda, 1975
    - Missale Romanum, Editio typica tertia, 2002
    - Missale Romanum, Editio typica tertia emendata, 2008
    - [Mysterii Paschalis, PAULUS PP. VI, 1969](http://www.vatican.va/content/paul-vi/la/motu_proprio/documents/hf_p-vi_motu-proprio_19690214_mysterii-paschalis.html)
    - [Decrees of the Congregation of Divine Worship](https://www.vatican.va/roman_curia/congregations/ccdds/index_it.htm)
* The data is historically accurate, *i.e.* the liturgical calendar produced for the year 1979 will reflect the calendar as it was in that year, and not as it would be today


# How to setup the endpoint yourself
1. **Setup the database tables**
  Included is an SQL dump **liturgy.sql** which contains database tables with fixed date festivities, memorials and optional memorials of the General Roman Calendar. The PHP script aids itself with these tables to generate the liturgical calendar along with the localized translations of the festivities. The tables themselved do not necessarily define the dates of all festivities, for example movable feasts are necessarily are calculated in the script itself, in this case the tables server only for localization purposes.
2. **Edit the configuration file for access to the database**
  Once the tables are set up in a database, the `LitCalConfig-sample.php` file must be renamed to `LitCalConfig.php` and populated with the credentials to access the database. Seeing that this file will be renamed for production, it will not be overwritten when the scripts get updated from a new release or a `git pull`.

# How to use the endpoint
There are two examples of usage of the endpoint to generate an HTML representation of the Liturgical Calendar at [https://johnromanodorazio.com/LiturgicalCalendar/]. 

* The [https://johnromanodorazio.com/LiturgicalCalendar/examples/javascript_liturgical_calendar.php first example] uses AJAX in Javascript to make the request to the endpoint. 
* The [https://johnromanodorazio.com/LiturgicalCalendar/examples/curl_liturgical_calendar.php second example] uses cURL in PHP to make a request to the endpoint and handle the results. 

Both of these examples request JSON as the data exchange format generated by the endpoint.

## Parameters that can be used in the request to the endpoint
* *locale*: can have a value of *en*, *it*, or *la*. Sets the desired localization for the Calendar to *English*, *Italian*, or *Latin* respectively.
* *year*: can have a value starting from *1970* and a maximum value of *9999*. For the time being, this endpoint only calculates the Liturgical Calendar since after the reform of the Second Vatican Council and the publishing of the *Editio Typica* of the Roman Missal in 1970. Perhaps in future updates earlier information will be added, to further the historical accuracy of the endpoint.
